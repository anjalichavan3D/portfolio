<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hi, I'm Anjali</title>
    <link rel="shortcut icon" href="https://anjalichavan3d.github.io/asset/doodle.png" type="image/x-icon" />
    <style>
        /* Basic Styles */
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        .dark-mode {
            background-color: black;
            color: white;
        }

        .dark-mode nav {
            background-color: black;
            color: white;
        }

        .dark-mode .search-bar-container {
            background-color: #27272A;
        }

        .dark-mode .search-bar-container input {
            color: white;
        }

        .dark-mode .drk-toggle-btn {
            background-image: url('https://www.svgrepo.com/show/528415/moon.svg');
            filter: invert(1);
        }

        .dark-mode .user-info-card {
            background-color: #1d1d1d;
        }

        nav {
            background-color: white;
            padding: 10px;
            position: sticky;
            top: 0;
            display: flex;
            gap: 10px;
            align-items: center;
            z-index: 1000;
        }

        .search-bar-container {
            background-color: rgb(236, 236, 236);
            display: flex;
            padding: 10px;
            border-radius: 20px;
            align-items: center;
            width: calc(100% - 20px);
        }

        .search-btn {
            opacity: 0.5;
        }

        .search-bar {
            border: none;
            outline: none;
            padding: 10px;
            width: 100%;
            background-color: transparent;
        }

        /* Profile Picture Trigger */
        .pfp-img {
            background-image: url('pfp.png');
            background-size: cover;
            background-position: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }

        .drk-toggle-btn {
            background-image: url('https://www.svgrepo.com/show/527568/sun-2.svg');
            background-size: cover;
            background-position: center;
            width: 30px;
            height: 30px;
        }

        /* Pinterest Grid using CSS Columns */
        .pinterest-grid {
            margin: 10px;
            column-gap: 10px;
        }

        @media (min-width: 1200px) {
            .pinterest-grid {
                column-count: 7;
            }
        }

        @media (min-width: 950px) and (max-width: 1199px) {
            .pinterest-grid {
                column-count: 5;
            }
        }

        @media (min-width: 676px) and (max-width: 949px) {
            .pinterest-grid {
                column-count: 3;
            }
        }

        @media (max-width: 675px) {
            .pinterest-grid {
                column-count: 2;
            }
        }

        .grid-item-container {
            break-inside: avoid;
            margin-bottom: 10px;
            width: 100%;
            cursor: pointer;
        }

        .grid-item {
            width: 100%;
            height: auto;
            border-radius: 10px;
            object-fit: cover;
            display: block;
        }

        .img-caption {
            text-align: center;
            font-size: 14px;
            margin-top: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Video thumbnail styling */
        .video-thumbnail-container {
            position: relative;
        }

        .video-thumbnail-container video {
            display: block;
            width: 100%;
            height: auto;
            border-radius: 10px;
            object-fit: cover;
            pointer-events: none;
        }

        .play-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 40px;
            color: rgba(255, 255, 255, 0.8);
            pointer-events: none;
        }

        /* Modal for Media Pop-up */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .modal-content {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .modal-content img,
        .modal-content video {
            max-width: 90vw;
            max-height: 90vh;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 10px;
            transform-origin: center center;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 20px;
            color: #fff;
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
        }

        /* User Info Modal */
        .user-info-modal {
            display: none;
            position: fixed;
            z-index: 1100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            justify-content: center;
            align-items: center;
            overflow: auto;
        }

        .user-info-card {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            max-width: 400px;
            width: 90%;
            position: relative;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            margin: 5px;
        }

        .user-info-card .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 25px;
            color: #333;
            cursor: pointer;
            z-index: 1;
        }

        .user-info-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
        }

        .user-info-content h2 {
            margin: 0 0 10px;
        }

        .user-info-content p {
            margin: 5px 0;
        }
    </style>
</head>

<body>
    <nav>
        <div class="search-bar-container">
            <img src="https://www.svgrepo.com/show/450557/search.svg" height="22px" class="search-btn">
            <input type="text" class="search-bar" placeholder="Search">
        </div>
        <!-- Dark Mode Toggle -->
        <a onclick="myFunction()">
            <div class="drk-toggle-btn"></div>
        </a>
        <!-- Profile Picture Trigger for User Info Modal -->
        <a href="#" id="user-info-trigger">
            <div class="pfp-img"></div>
        </a>
    </nav>

    <div class="pinterest-grid"></div>

    <!-- Modal for Media Pop-up -->
    <div id="modal" class="modal">
        <div class="modal-content" id="modal-media-container">
            <span class="close" id="modal-close">&times;</span>
            <!-- Media (image or video) is injected here -->
        </div>
    </div>

    <!-- User Info Modal -->
    <div id="user-info-modal" class="user-info-modal">
        <div class="user-info-card">
            <span class="close" id="user-info-close">&times;</span>
            <div class="user-info-content">
                <img class="user-info-avatar" src="pfp.png" alt="User Avatar">
                <h2>Anjali Chavan 3D</h2>
                <p>Artist, Designer, and Animator</p>
                <p>Email: <a href="#">anjali@example.com</a></p>
                <div>
                    <a href="https://www.linkedin.com/in/anjali-chavan-9420342b0/" target="_blank">
                        <img src="https://www.svgrepo.com/show/448234/linkedin.svg" height="25px" alt="">
                    </a>
                    <a href="https://www.instagram.com/artplay_anjali/" target="_blank">
                        <img src="https://www.svgrepo.com/show/452229/instagram-1.svg" height="25px" alt="">
                    </a>
                    <a href="https://www.artstation.com/user-5343257" target="_blank">
                        <img src="https://www.svgrepo.com/show/341618/artstation.svg" height="25px" alt="">
                    </a>
                    <a href="https://www.youtube.com/@ArtplayAnjali/" target="_blank">
                        <img src="https://www.svgrepo.com/show/354592/youtube-icon.svg" height="25px" alt="">
                    </a>
                    <a href="#" target="_blank">
                        <img src="https://www.svgrepo.com/show/243051/docs.svg" height="25px" alt="">
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
          // Dark Mode Toggle
          var element = document.body;
          var darkMode = localStorage.getItem("darkMode");
          if (darkMode === "enabled") {
            element.classList.add("dark-mode");
          }
          window.myFunction = function toggleDarkMode() {
            element.classList.toggle("dark-mode");
            if (element.classList.contains("dark-mode")) {
              localStorage.setItem("darkMode", "enabled");
            } else {
              localStorage.setItem("darkMode", "disabled");
            }
          };
        
          // Media Loading & Grid Rendering using GitHub API
          // Updated API URL for listing folder contents
          const assetFolderApi =
            "https://api.github.com/repos/anjalichavan3D/portfolio/contents/asset?ref=main";
          let allMedia = [];
        
          async function fetchMedia() {
            const response = await fetch(assetFolderApi);
            const data = await response.json();
            // Filter out files with valid media extensions (images and videos)
            return data.filter((file) =>
              /\.(jpg|png|jpeg|gif|m4v|mp4|webm|ogg)$/i.test(file.name)
            );
          }
        
          async function loadMedia() {
            const mediaFiles = await fetchMedia();
            allMedia = mediaFiles.map((file) => {
              return { src: file.download_url, fileName: file.name };
            });
            renderGrid("");
          }
        
          function renderGrid(query) {
            const grid = document.querySelector(".pinterest-grid");
            grid.innerHTML = "";
            const filteredMedia = query
              ? allMedia.filter((item) =>
                  item.fileName.toLowerCase().includes(query)
                )
              : allMedia;
            filteredMedia.forEach((item) => {
              const container = document.createElement("div");
              container.classList.add("grid-item-container");
              const lowerSrc = item.src.toLowerCase();
              if (/\.(mp4|webm|ogg)$/.test(lowerSrc)) {
                // Create video thumbnail container
                const videoContainer = document.createElement("div");
                videoContainer.classList.add("video-thumbnail-container");
                const videoElem = document.createElement("video");
                videoElem.src = item.src;
                videoElem.preload = "metadata";
                videoElem.muted = true;
                videoElem.playsInline = true;
                videoElem.controls = false;
                videoElem.classList.add("grid-item");
                videoContainer.appendChild(videoElem);
                // Add play overlay icon
                const playOverlay = document.createElement("div");
                playOverlay.classList.add("play-overlay");
                playOverlay.innerHTML = "&#9658;";
                videoContainer.appendChild(playOverlay);
                container.appendChild(videoContainer);
              } else {
                // Create image element for images/GIFs
                const img = document.createElement("img");
                img.src = item.src;
                img.alt = "Media";
                img.classList.add("grid-item");
                container.appendChild(img);
              }
              const caption = document.createElement("p");
              caption.textContent = item.fileName;
              caption.classList.add("img-caption");
              container.appendChild(caption);
              container.addEventListener("click", () => {
                openModal(item.src);
              });
              grid.appendChild(container);
            });
          }
        
          loadMedia();
        
          const searchBar = document.querySelector(".search-bar");
          searchBar.addEventListener("input", (e) => {
            const query = e.target.value.trim().toLowerCase();
            renderGrid(query);
          });
        
          // Modal for Media Pop-up
          const modal = document.getElementById("modal");
          const modalMediaContainer = document.getElementById("modal-media-container");
          const closeModalButton = document.getElementById("modal-close");
          let currentMediaElement = null;
          let initialDistance = null,
            initialScale = 1,
            currentScale = 1;
        
          function openModal(src) {
            if (currentMediaElement) {
              currentMediaElement.remove();
              currentMediaElement = null;
            }
            const lowerSrc = src.toLowerCase();
            if (/\.(mp4|webm|ogg)$/.test(lowerSrc)) {
              const video = document.createElement("video");
              video.src = src;
              video.controls = true;
              video.autoplay = false;
              currentMediaElement = video;
            } else {
              const img = document.createElement("img");
              img.src = src;
              img.alt = "Media";
              currentMediaElement = img;
              img.addEventListener("touchstart", imageTouchStart, { passive: false });
              img.addEventListener("touchmove", imageTouchMove, { passive: false });
              img.addEventListener("touchend", imageTouchEnd, { passive: false });
            }
            modalMediaContainer.appendChild(currentMediaElement);
            modal.style.display = "flex";
            currentScale = 1;
            if (currentMediaElement.tagName === "IMG") {
              currentMediaElement.style.transform = "scale(1)";
            }
          }
        
          function closeModal() {
            modal.style.display = "none";
            if (currentMediaElement) {
              currentMediaElement.remove();
              currentMediaElement = null;
            }
          }
        
          closeModalButton.addEventListener("click", closeModal);
          modal.addEventListener("click", (e) => {
            if (e.target === modal) closeModal();
          });
        
          function getDistance(touches) {
            const dx = touches[0].pageX - touches[1].pageX;
            const dy = touches[0].pageY - touches[1].pageY;
            return Math.hypot(dx, dy);
          }
        
          function imageTouchStart(e) {
            if (e.touches.length === 2) {
              e.preventDefault();
              initialDistance = getDistance(e.touches);
              initialScale = currentScale;
            }
          }
        
          function imageTouchMove(e) {
            if (e.touches.length === 2) {
              e.preventDefault();
              const newDistance = getDistance(e.touches);
              const newScale = initialScale * (newDistance / initialDistance);
              currentScale = newScale;
              if (currentMediaElement && currentMediaElement.tagName === "IMG") {
                currentMediaElement.style.transform = "scale(" + newScale + ")";
              }
            }
          }
        
          function imageTouchEnd(e) {
            if (e.touches.length < 2) {
              initialDistance = null;
            }
          }
        
          // User Info Modal Functionality
          const userInfoModal = document.getElementById("user-info-modal");
          const userInfoClose = document.getElementById("user-info-close");
          const userInfoTrigger = document.getElementById("user-info-trigger");
        
          function openUserInfoModal() {
            userInfoModal.style.display = "flex";
          }
        
          function closeUserInfoModal() {
            userInfoModal.style.display = "none";
          }
        
          userInfoClose.addEventListener("click", closeUserInfoModal);
          userInfoModal.addEventListener("click", (e) => {
            if (e.target === userInfoModal) closeUserInfoModal();
          });
          userInfoTrigger.addEventListener("click", (e) => {
            e.preventDefault();
            openUserInfoModal();
          });
        });
        </script>
        
</body>

</html>
